<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>a2z anime</title>
    <link rel="stylesheet" href="app.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

</head>

<body>

    <div style="height: 400px;"><iframe style="height: 400px;" allowfullscreen="" frameborder="0"  id="myFrame"
            src="https://www.short.ink/OINV7mrQTL8"
            
            width="100%"></iframe></div>


    <button id="back" class="btn btn-danger btn-lg" >back</button>

    <button id="next" class="btn btn-danger btn-lg">
        <a style="font-weight: bold;"></a>next</a></button>


    <div id="my1" class="my1" >hello</div>

    <h2>All Episodes</h2>


    <ul id="video" class="video"></ul>






    <style>
        .material-symbols-outlined play {
          font-variation-settings:
          'FILL' 0,
          'wght' 400,
          'GRAD' 0,
          'opsz' 48
          
        }
        </style>

<script>

let apidata;
const start=async()=>{
const api=await fetch("../src/api/pokemon/pkmns1.json");

apidata=await api.json();


// var objj=JSON.parse(apii);
 var lo1 = ["OINV7mrQTL8", "EFFqX4ot0h4", "kaNOVzly9iF", "g1jjiLoTmst", "GYS96P7BcnU", "qlMR0236gRP", "UltbgrZJHIr", "ljhWOYwBmIh", "8TI7tCNdPTB", "iMhB7DCyFvh", "roW6AK8YN8Y", "HOGf0NCZcrO", "LcHzYWe1j1M", "hEay3avgSIE", "sRMjt39gE8j", "8pIZydnDbDs", "8P8aag0EKxs", "FqXIqi3j5g5", "KEaamCSIzwj", "7XC8t9dtpyQ", "MzKXioJTo1z", "XU2PP9yp3Ht", "ABgHHogz6yr", "vcuxjkHllyZ", "oC2aZjnWNhO", "0SlkZwahbcP", "4f63iNC8JQF", "aLKlVD5qLPK", "zSO9VBUeemW", "2SsfadPESUa", "CwyeMsoBXUt", "tvaBp5xRAqv", "cKPVKa9T1TK", "fEXj5jsaPA6", "zfbhUne9RnD", "0juMi5ANesS", "nU0eHhrJ44B", "W2s5lK3GqZA", "sXds4DKAK7L", "D57HCLzCAum", "CIvnNZudEnB", "P0x0GAEWTvL", "0qEGbr3Mb94", "VCQByFAeLtX", "fa8zwHBOnvQ", "sST4zvwpjjj", "0YBV3Nrnadl", "OlSyp2TUwjn", "3uG7UuaHSTC", "5LUvacvZnR9", "y6bs43tcrYv", "l14PWfAgeNF", "Mag2xK0uobv", "RtXBWpre4Q0", "21gQLSPailu", "hyRrV963Lhh", "OdBryzjecsa", "ephfWFPshFc", "WWlR7lFT3rZ", "j4HlImLOvXs", "tEqCOUT2YDf", "w1AueDv5QuK", "tVc2Rn2MK42", "T1EZH1L8uBd", "MkybF6YFx3w", "OnV44oPSa0K", "PIFibGlq70p", "htdiVQ6PLgy", "3pGwdO8LAXn", "wqqMu5KUPFW", "XwZ5Z6s1BV8", "AYbxDO2Po97", "QIaneTQSHs3", "oqPPq03osmW", "NDJfm9iqdKV", "44wiCWCCEaZ", "8Sa4WJIybIh", "5iaoSkzqZ9M", "n9JZrRXPpZG72", "9dbmXv5n1QyEO", "q3LmYn3aEAENw", "r6qQNRg3YQX7w", "3YMmkeP79QByv", "8zWZ76Mw6Q6L4", "JdpmLRN5LQe7K", "LznARvp4WA6xd", "3YMmkePV9QByv", "w1ymMv3O7AJrb", "gLeZy5k0YZrKN", "n9JZrRXdpZG72", "Lo2Q8YrD6ZqY5", "74GA0GbX4mYBk", "9dbmXv511QyEO", "apwQE1o3LQPKe", "zKWm6rx5om85P", "ExamD4NypmR8M", "bNPm3lzjvAKWe", "74GA0GbN4mYBk", "k4rZeDY1dQjdb", "dwPAVvBPPAR09", "dloAB3nMaQzRJ", "YnqAK2Lgwm2PJ", "k4rZeDY1qQjdb", "9B6Z4lNVrZJGj", "ExamD4N32mR8M", "n9JZrRXJyZG72", "ExamD4NdpmR8M", "3YMmkeP7qQByv", "vGqm2lKk2QenO", "6k9Qg6kvpAvxa", "r6qQNRgPlQX7w", "5MVQGa08vmEPj", "dloAB3nMjQzRJ", "n9JZrRX1yZG72", "2KGZ9L69YQ4Bn", "q3LmYn3qEAENw", "dwPAVvBKJAR09", "P0RQwaYVomG34", "6RbAxgXwqmEvV", "Ng9QnxnJ7mVKb", "lWJQjkXEXZdXn", "RaqAlVXqOZbXp", "72lQbvkELQe9G", "RkaA5Dg4nmVnp", "8bMZJJdRXZvOa", "aRvmOGPpBmkGE", "zKWm6rxP4m85P", "dwPAVvBOJAR09", "pnXQpBNyRmqeE", "dwPAVvBOPAR09", "zKWm6rxa4m85P", "76VAqNV4yQoqy", "ExamD4Nn2mR8M", "LjKAWvy52mEBM", "74GA0GbRRmYBk", "YnqAK2Lnwm2PJ", "e9BZaO9XKAwXx", "RaqAlVX4OZbXp", "apwQE1oz8QPKe", "8zWZ76MpOQ6L4", "9B6Z4lNwrZJGj", "goVAd8Vy9AJnE", "bNPm3lzWqAKWe", "9dbmXv51YQyEO", "8bMZJJdKXZvOa", "JdpmLRN0LQe7K", "GbJQPvqnom7rw", "r6qQNRgKlQX7w", "RkaA5DgwnmVnp", "5MVQGa0NvmEPj", "6k9Qg6kKpAvxa", "8ogAvEXNymGMD", "8zWZ76MzOQ6L4", "72lQbvk8LQe9G", "goVAd8Vg9AJnE", "5YRQoKyJMQ0aN", "gQwu3dLi-J", "szSArMgNv", "M9SWB14Ew", "TtDTwl_FJ", "Dx8NBCVoN", "rXXN3-EN_", "h28_2w8w2", "aC-kicZaHW", "3LJY0kl_9", "iZ-R4eQRZ", "emrXFN9Iz", "QEbSk-S0d", "Bu0mJL3jv", "cewXsYFww", "LYeX3G-ve", "uGrQWy1Vu", "vbS1YPw-N", "zLUuVhRAd", "Erwm-AJLHx", "F1si2r8vK", "vaHlPYEIV", "FyGoUlGzQ", "768bmmOjW", "cHHonbVWZ", "a41olYHj4", "_yYFOi4h7", "0baQE4XVP", "pgAGNkv2d", "uOtXDr7MV", "_F339oZ_W", "s2G40Jn_J", "fkVUUS5-yW", "OwE67AglB", "jGlBux3f9", "SX946Od3S", "kEBcDC4Mc", "JwhtNEbtL", "qz-WRvzyR", "YnpOWMh4F", "igr8YiY__", "KPULn8VIU", "8bwL7Wujr", "4-wGycDc5", "uU3mWMnyx", "sDhhymbG3", "leBOxc7P4", "RJkdsOMlk", "JM7Rn5D86", "Cy6eKMSda", "2vbyfMGO5", "ktudERR10", "50oUXbnj9", "y2TkDsSK_", "DRIvX_Fza", "jDDfRqNH1", "_0JsGUXVxn", "U_oMC31g6", "KPaL9Pq91", "i1Tiq3H8p", "ZV1rhMAOy", "X5o03XBew", "Pkq_kE4gs", "9b7v_Fdaz", "Zln21936A", "xrFtG8r0_", "06pV_sKfn", "hgsGaNCFf", "8qmBuOyg3", "H6XK7Xai8", "wxUCzLVd5", "CSMAOGTGZ", "rIUHuyyS-", "bHfJDn4dS", "3xUbo4dhI", "bWV6GwRqE", "HU8iX2bYp", "9KYZkeutu", "JkNSyG-syG", "B6hfq8z1u2", "x1heqbz4ud", "54h4qaz0u1", "5bf1q6z3u8", "L1feqezfuc", "ndg6qaz3u9", "77f7qczcu5", "J7fdq7zaue", "T4f2q6z7u9", "Vcfeq7z8u3", "R7f0qdzaua", "ddg0q8z9u5", "bbg7q4zau2", "Zbfaq2zbud", "f4g3qfz0u0", "vbgbq5zfu8", "55gfq4z6ud", "10g3q9z7u1", "x3gdq4z8u4", "7ahaq3zcu6", "R1k0qfz1u2", "94icq6z1ua", "Bfidqezeu6", "D3i6q4z8u7", "H6i7q9z3u0", "h2k4q0z3u7", "Ndj1qfz7u3", "Vbj7qcz0ud", "Z3j6q3z5ua", "14k7q2zbu1", "72k6qfzaue", "3bkaqez1uc", "53kfq2zduf", "H8k4q6z4u7", "Fek2q1z1u8", "Jek8q8zeu7", "Dck8qfzau3", "Tek2q3z5u7", "Zfkbq3z3u5", "X8k1q2zbu4", "R1laq0z7u5", "n6l7q5zfuc", "jel1q0z3uf", "pbl3q6zfuf", "l6lcqcz4u8", "valfq3z9uf", "x8l0q7z6ub", "r7ldq0z2u5", "t6l0qez3u0", "1bl6qfz4uc", "53l2q6z3ub", "31lfqazbu8", "7elfq6zau3", "H0l6q6z5u4", "Lal3q9z7uf", "J1lbqfzeu0", "Dcl8q5z7uc", "X9l7q2z9uc", "Pfl7q8z9u7", "V5l1qdz9u8", "Tem5qdz5u8", "Vfm3qfz2u1", "f5m0q5z1ud", "d3mfqdzcu3", "j9m2q8z1u5", "ham7q0z3u6", "xcmdq3z4u2", "rcm2q3z1u9", "zdm9qcz0u8", "v8mbqez0u4", "D5mdq6zau3", "F9m4q8z2u4", "9cmbq9z0uc", "B5mfq7z4u3", "Rdm9q4z2uf", "Pdm4q0z0u1", "N6meq7z2ub", "L7m9q1zcu6"];
let numep=1;
let totalep=apidata.length;//total number of episodes 
let near=totalep-(apidata.length%10)//vale near zero and multiple of 10
let value = false;
// let picsiz = pic.length;
let i = 0;
// let titlesize = title.length;
// let size = title.length;
let epdisplay = 10;
//generate element of video
const epcreate = (i, epdisplay) => {//call by event listner and value given it
  for (i; i < epdisplay; i++) {
    if (i > totalep) {//logic for pic is not available use default 
      apidata[i].image = "https://i.imgur.com/QsIEliS.webp";
    }
    // if (i > titlesize) {//logic for episode title is not available use default 
    //   title[i] = "episode" + i;
    // }
    let create = document.createElement("li");

    create.innerHTML = `
             

            <li class="card">

         <figure><img src="${apidata[i].image}" alt="" class="thumbnail" /></figure>

        <span class="epnumber">${apidata[i].epno}</span>
        <header>${apidata[i].title}</header>
        <span class="material-symbols-outlined play">
          play_circle
          </span>
      </li>
         `;

    let select = document.getElementById("video");
    select.appendChild(create);
  }
};
//for logic of scrooll
let updateep = () => {
    epcreate(i, epdisplay);
    i = i + 10;
    epdisplay = epdisplay + 10;
  if (totalep <= epdisplay) {//if totalepisodes is less than multiple of 10 then create remain  episode
    value = false;
    i = near;
    epdisplay = totalep;
    epcreate(i, epdisplay);
  } else value = true;
};
     //for gett all element list
updateep();

let scsize = 0;

window.addEventListener("scroll", function scroll() {
  if (window.screen.availWidth <= 800 && value) {
    if (window.scrollY >= 200 + scsize && value) value = false;
    updateep();
    selli();
           //for gett all element list
    scsize = scsize + 100;
   
  }
  if (window.scrollY >= 100 + scsize && value) {
    value = false;
    updateep();
    selli();
   
    scsize = scsize + 200;
  }
});


function loadEp(numep) {
    document.getElementById("myFrame").setAttribute("src",  "https://www.short.ink/"+lo1[numep-1])
  document.querySelector("#myFrame").scrollIntoView();
 
  
    
}


    
let videoCard;


// for click event on cards

const selli=()=>{
videoCard = document.querySelectorAll(".card");           //for gett all element list
// console.log(videoCard);

Array.from(videoCard).forEach((element) => {                // for each loop fpr travel from all videoCard
  element.addEventListener("click", () => {                //add event listner on all video cards
  numep=(element.innerText).substring(9,11);
//  console.log(numep)
 
    loadEp(numep)
   



    Array.from(videoCard).forEach((element) => {                //travel all card and remove check class
        element.classList.remove('check')
    })
   
element.classList.toggle('check')                               //add check class on click card

 
    })
  });
}


//event listner for back and next button

back.addEventListener("click",()=>{
  if(numep==1){

    console.log("end");
  }
  else{
    Array.from(videoCard).forEach((element) => {                //travel all card and remove check class
      element.classList.remove('check')
  })
 
  numep-=1
  videoCard[numep-1].classList.toggle('check')  
    console.log(numep)
    loadEp(numep)

  }
})

next.addEventListener("click",()=>{
  
  if(numep==totalep){

    console.log("end")
  }
  else{

  
  
    Array.from(videoCard).forEach((element) => {                //travel all card and remove check class
      element.classList.remove('check')
  })
  numep-=1
  numep+=1
  videoCard[numep].classList.toggle('check')    
console.log(numep+1)
loadEp(numep+1)
    numep+=1
  }
})

}
 start();
</script>
    
</body>

</html>